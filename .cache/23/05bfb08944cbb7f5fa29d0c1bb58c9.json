{"id":"../node_modules/preview-email/lib/index.js","dependencies":[{"name":"/var/www/html/StMichel/package.json","includedInParent":true,"mtime":1602507593919},{"name":"/var/www/html/StMichel/node_modules/preview-email/package.json","includedInParent":true,"mtime":1602507588300},{"name":"@babel/runtime/helpers/interopRequireDefault","loc":{"line":3,"column":37},"parent":"/var/www/html/StMichel/node_modules/preview-email/lib/index.js","resolved":"/var/www/html/StMichel/node_modules/@babel/runtime/helpers/interopRequireDefault.js"},{"name":"@babel/runtime/helpers/defineProperty","loc":{"line":5,"column":54},"parent":"/var/www/html/StMichel/node_modules/preview-email/lib/index.js","resolved":"/var/www/html/StMichel/node_modules/@babel/runtime/helpers/defineProperty.js"},{"name":"fs","loc":{"line":11,"column":19},"parent":"/var/www/html/StMichel/node_modules/preview-email/lib/index.js","resolved":"/home/etudiant/.npm-packages/lib/node_modules/parcel-bundler/src/builtins/_empty.js"},{"name":"os","loc":{"line":13,"column":19},"parent":"/var/www/html/StMichel/node_modules/preview-email/lib/index.js","resolved":"/home/etudiant/.npm-packages/lib/node_modules/parcel-bundler/node_modules/os-browserify/browser.js"},{"name":"path","loc":{"line":15,"column":21},"parent":"/var/www/html/StMichel/node_modules/preview-email/lib/index.js","resolved":"/home/etudiant/.npm-packages/lib/node_modules/parcel-bundler/node_modules/path-browserify/index.js"},{"name":"dayjs","loc":{"line":17,"column":22},"parent":"/var/www/html/StMichel/node_modules/preview-email/lib/index.js","resolved":"/var/www/html/StMichel/node_modules/dayjs/dayjs.min.js"},{"name":"debug","loc":{"line":19,"column":22},"parent":"/var/www/html/StMichel/node_modules/preview-email/lib/index.js","resolved":"/var/www/html/StMichel/node_modules/preview-email/node_modules/debug/src/browser.js"},{"name":"nodemailer","loc":{"line":21,"column":27},"parent":"/var/www/html/StMichel/node_modules/preview-email/lib/index.js","resolved":"/var/www/html/StMichel/node_modules/nodemailer/lib/nodemailer.js"},{"name":"open","loc":{"line":23,"column":21},"parent":"/var/www/html/StMichel/node_modules/preview-email/lib/index.js","resolved":"/var/www/html/StMichel/node_modules/open/index.js"},{"name":"pify","loc":{"line":25,"column":21},"parent":"/var/www/html/StMichel/node_modules/preview-email/lib/index.js","resolved":"/var/www/html/StMichel/node_modules/preview-email/node_modules/pify/index.js"},{"name":"pug","loc":{"line":27,"column":20},"parent":"/var/www/html/StMichel/node_modules/preview-email/lib/index.js","resolved":"/var/www/html/StMichel/node_modules/pug/lib/index.js"},{"name":"uuid","loc":{"line":29,"column":21},"parent":"/var/www/html/StMichel/node_modules/preview-email/lib/index.js","resolved":"/var/www/html/StMichel/node_modules/uuid/index.js"},{"name":"mailparser","loc":{"line":33,"column":12},"parent":"/var/www/html/StMichel/node_modules/preview-email/lib/index.js","resolved":"/var/www/html/StMichel/node_modules/mailparser/index.js"}],"generated":{"js":"var __dirname = \"/var/www/html/StMichel/node_modules/preview-email/lib\";\n\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        (0, _defineProperty2.default)(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar fs = require('fs');\n\nvar os = require('os');\n\nvar path = require('path');\n\nvar dayjs = require('dayjs');\n\nvar debug = require('debug')('preview-email');\n\nvar nodemailer = require('nodemailer');\n\nvar open = require('open');\n\nvar pify = require('pify');\n\nvar pug = require('pug');\n\nvar uuid = require('uuid');\n\nvar _require = require('mailparser'),\n    simpleParser = _require.simpleParser;\n\nvar writeFile = pify(fs.writeFile);\nvar transport = nodemailer.createTransport({\n  streamTransport: true,\n  buffer: true\n});\nvar templateFilePath = path.join(__dirname, '..', 'template.pug');\nvar renderFilePromise = pify(pug.renderFile);\n\nvar previewEmail = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(message, options) {\n    var res, parsed, html, filePath, url;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            options = _objectSpread({\n              dir: os.tmpdir(),\n              id: uuid.v4(),\n              open: {\n                wait: false\n              },\n              template: templateFilePath,\n              urlTransform: function urlTransform(path) {\n                return \"file://\".concat(path);\n              }\n            }, options);\n            debug('message', message, 'options', options);\n\n            if (!(_typeof(message) !== 'object')) {\n              _context.next = 4;\n              break;\n            }\n\n            throw new Error('Message argument is required');\n\n          case 4:\n            _context.next = 6;\n            return transport.sendMail(message);\n\n          case 6:\n            res = _context.sent;\n            _context.next = 9;\n            return simpleParser(res.message);\n\n          case 9:\n            parsed = _context.sent;\n            _context.next = 12;\n            return renderFilePromise(options.template, Object.assign(parsed, {\n              cache: true,\n              pretty: true,\n              dayjs: dayjs\n            }));\n\n          case 12:\n            html = _context.sent;\n            filePath = \"\".concat(options.dir, \"/\").concat(options.id, \".html\");\n            debug('filePath', filePath);\n            _context.next = 17;\n            return writeFile(filePath, html);\n\n          case 17:\n            url = options.urlTransform(filePath);\n\n            if (!options.open) {\n              _context.next = 21;\n              break;\n            }\n\n            _context.next = 21;\n            return open(url, options.open);\n\n          case 21:\n            return _context.abrupt(\"return\", url);\n\n          case 22:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function previewEmail(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nmodule.exports = previewEmail;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/index.js","name":null,"original":{"line":1,"column":0},"generated":{"line":48,"column":0}},{"source":"../src/index.js","name":"fs","original":{"line":1,"column":6},"generated":{"line":48,"column":4}},{"source":"../src/index.js","name":null,"original":{"line":1,"column":8},"generated":{"line":48,"column":6}},{"source":"../src/index.js","name":"require","original":{"line":1,"column":11},"generated":{"line":48,"column":9}},{"source":"../src/index.js","name":null,"original":{"line":1,"column":18},"generated":{"line":48,"column":16}},{"source":"../src/index.js","name":null,"original":{"line":1,"column":19},"generated":{"line":48,"column":17}},{"source":"../src/index.js","name":null,"original":{"line":1,"column":18},"generated":{"line":48,"column":21}},{"source":"../src/index.js","name":null,"original":{"line":1,"column":0},"generated":{"line":48,"column":22}},{"source":"../src/index.js","name":null,"original":{"line":2,"column":0},"generated":{"line":50,"column":0}},{"source":"../src/index.js","name":"os","original":{"line":2,"column":6},"generated":{"line":50,"column":4}},{"source":"../src/index.js","name":null,"original":{"line":2,"column":8},"generated":{"line":50,"column":6}},{"source":"../src/index.js","name":"require","original":{"line":2,"column":11},"generated":{"line":50,"column":9}},{"source":"../src/index.js","name":null,"original":{"line":2,"column":18},"generated":{"line":50,"column":16}},{"source":"../src/index.js","name":null,"original":{"line":2,"column":19},"generated":{"line":50,"column":17}},{"source":"../src/index.js","name":null,"original":{"line":2,"column":18},"generated":{"line":50,"column":21}},{"source":"../src/index.js","name":null,"original":{"line":2,"column":0},"generated":{"line":50,"column":22}},{"source":"../src/index.js","name":null,"original":{"line":3,"column":0},"generated":{"line":52,"column":0}},{"source":"../src/index.js","name":"path","original":{"line":3,"column":6},"generated":{"line":52,"column":4}},{"source":"../src/index.js","name":null,"original":{"line":3,"column":10},"generated":{"line":52,"column":8}},{"source":"../src/index.js","name":"require","original":{"line":3,"column":13},"generated":{"line":52,"column":11}},{"source":"../src/index.js","name":null,"original":{"line":3,"column":20},"generated":{"line":52,"column":18}},{"source":"../src/index.js","name":null,"original":{"line":3,"column":21},"generated":{"line":52,"column":19}},{"source":"../src/index.js","name":null,"original":{"line":3,"column":20},"generated":{"line":52,"column":25}},{"source":"../src/index.js","name":null,"original":{"line":3,"column":0},"generated":{"line":52,"column":26}},{"source":"../src/index.js","name":null,"original":{"line":5,"column":0},"generated":{"line":54,"column":0}},{"source":"../src/index.js","name":"dayjs","original":{"line":5,"column":6},"generated":{"line":54,"column":4}},{"source":"../src/index.js","name":null,"original":{"line":5,"column":11},"generated":{"line":54,"column":9}},{"source":"../src/index.js","name":"require","original":{"line":5,"column":14},"generated":{"line":54,"column":12}},{"source":"../src/index.js","name":null,"original":{"line":5,"column":21},"generated":{"line":54,"column":19}},{"source":"../src/index.js","name":null,"original":{"line":5,"column":22},"generated":{"line":54,"column":20}},{"source":"../src/index.js","name":null,"original":{"line":5,"column":21},"generated":{"line":54,"column":27}},{"source":"../src/index.js","name":null,"original":{"line":5,"column":0},"generated":{"line":54,"column":28}},{"source":"../src/index.js","name":null,"original":{"line":6,"column":0},"generated":{"line":56,"column":0}},{"source":"../src/index.js","name":"debug","original":{"line":6,"column":6},"generated":{"line":56,"column":4}},{"source":"../src/index.js","name":null,"original":{"line":6,"column":11},"generated":{"line":56,"column":9}},{"source":"../src/index.js","name":"require","original":{"line":6,"column":14},"generated":{"line":56,"column":12}},{"source":"../src/index.js","name":null,"original":{"line":6,"column":21},"generated":{"line":56,"column":19}},{"source":"../src/index.js","name":null,"original":{"line":6,"column":22},"generated":{"line":56,"column":20}},{"source":"../src/index.js","name":null,"original":{"line":6,"column":21},"generated":{"line":56,"column":27}},{"source":"../src/index.js","name":"require","original":{"line":6,"column":14},"generated":{"line":56,"column":28}},{"source":"../src/index.js","name":null,"original":{"line":6,"column":31},"generated":{"line":56,"column":29}},{"source":"../src/index.js","name":"require","original":{"line":6,"column":14},"generated":{"line":56,"column":44}},{"source":"../src/index.js","name":null,"original":{"line":6,"column":0},"generated":{"line":56,"column":45}},{"source":"../src/index.js","name":null,"original":{"line":7,"column":0},"generated":{"line":58,"column":0}},{"source":"../src/index.js","name":"nodemailer","original":{"line":7,"column":6},"generated":{"line":58,"column":4}},{"source":"../src/index.js","name":null,"original":{"line":7,"column":16},"generated":{"line":58,"column":14}},{"source":"../src/index.js","name":"require","original":{"line":7,"column":19},"generated":{"line":58,"column":17}},{"source":"../src/index.js","name":null,"original":{"line":7,"column":26},"generated":{"line":58,"column":24}},{"source":"../src/index.js","name":null,"original":{"line":7,"column":27},"generated":{"line":58,"column":25}},{"source":"../src/index.js","name":null,"original":{"line":7,"column":26},"generated":{"line":58,"column":37}},{"source":"../src/index.js","name":null,"original":{"line":7,"column":0},"generated":{"line":58,"column":38}},{"source":"../src/index.js","name":null,"original":{"line":8,"column":0},"generated":{"line":60,"column":0}},{"source":"../src/index.js","name":"open","original":{"line":8,"column":6},"generated":{"line":60,"column":4}},{"source":"../src/index.js","name":null,"original":{"line":8,"column":10},"generated":{"line":60,"column":8}},{"source":"../src/index.js","name":"require","original":{"line":8,"column":13},"generated":{"line":60,"column":11}},{"source":"../src/index.js","name":null,"original":{"line":8,"column":20},"generated":{"line":60,"column":18}},{"source":"../src/index.js","name":null,"original":{"line":8,"column":21},"generated":{"line":60,"column":19}},{"source":"../src/index.js","name":null,"original":{"line":8,"column":20},"generated":{"line":60,"column":25}},{"source":"../src/index.js","name":null,"original":{"line":8,"column":0},"generated":{"line":60,"column":26}},{"source":"../src/index.js","name":null,"original":{"line":9,"column":0},"generated":{"line":62,"column":0}},{"source":"../src/index.js","name":"pify","original":{"line":9,"column":6},"generated":{"line":62,"column":4}},{"source":"../src/index.js","name":null,"original":{"line":9,"column":10},"generated":{"line":62,"column":8}},{"source":"../src/index.js","name":"require","original":{"line":9,"column":13},"generated":{"line":62,"column":11}},{"source":"../src/index.js","name":null,"original":{"line":9,"column":20},"generated":{"line":62,"column":18}},{"source":"../src/index.js","name":null,"original":{"line":9,"column":21},"generated":{"line":62,"column":19}},{"source":"../src/index.js","name":null,"original":{"line":9,"column":20},"generated":{"line":62,"column":25}},{"source":"../src/index.js","name":null,"original":{"line":9,"column":0},"generated":{"line":62,"column":26}},{"source":"../src/index.js","name":null,"original":{"line":10,"column":0},"generated":{"line":64,"column":0}},{"source":"../src/index.js","name":"pug","original":{"line":10,"column":6},"generated":{"line":64,"column":4}},{"source":"../src/index.js","name":null,"original":{"line":10,"column":9},"generated":{"line":64,"column":7}},{"source":"../src/index.js","name":"require","original":{"line":10,"column":12},"generated":{"line":64,"column":10}},{"source":"../src/index.js","name":null,"original":{"line":10,"column":19},"generated":{"line":64,"column":17}},{"source":"../src/index.js","name":null,"original":{"line":10,"column":20},"generated":{"line":64,"column":18}},{"source":"../src/index.js","name":null,"original":{"line":10,"column":19},"generated":{"line":64,"column":23}},{"source":"../src/index.js","name":null,"original":{"line":10,"column":0},"generated":{"line":64,"column":24}},{"source":"../src/index.js","name":null,"original":{"line":11,"column":0},"generated":{"line":66,"column":0}},{"source":"../src/index.js","name":"uuid","original":{"line":11,"column":6},"generated":{"line":66,"column":4}},{"source":"../src/index.js","name":null,"original":{"line":11,"column":10},"generated":{"line":66,"column":8}},{"source":"../src/index.js","name":"require","original":{"line":11,"column":13},"generated":{"line":66,"column":11}},{"source":"../src/index.js","name":null,"original":{"line":11,"column":20},"generated":{"line":66,"column":18}},{"source":"../src/index.js","name":null,"original":{"line":11,"column":21},"generated":{"line":66,"column":19}},{"source":"../src/index.js","name":null,"original":{"line":11,"column":20},"generated":{"line":66,"column":25}},{"source":"../src/index.js","name":null,"original":{"line":11,"column":0},"generated":{"line":66,"column":26}},{"source":"../src/index.js","name":"require","original":{"line":12,"column":25},"generated":{"line":68,"column":15}},{"source":"../src/index.js","name":null,"original":{"line":12,"column":32},"generated":{"line":68,"column":22}},{"source":"../src/index.js","name":null,"original":{"line":12,"column":33},"generated":{"line":68,"column":23}},{"source":"../src/index.js","name":null,"original":{"line":12,"column":32},"generated":{"line":68,"column":35}},{"source":"../src/index.js","name":"simpleParser","original":{"line":12,"column":8},"generated":{"line":69,"column":4}},{"source":"../src/index.js","name":"simpleParser","original":{"line":12,"column":8},"generated":{"line":69,"column":28}},{"source":"../src/index.js","name":null,"original":{"line":14,"column":0},"generated":{"line":71,"column":0}},{"source":"../src/index.js","name":"writeFile","original":{"line":14,"column":6},"generated":{"line":71,"column":4}},{"source":"../src/index.js","name":null,"original":{"line":14,"column":15},"generated":{"line":71,"column":13}},{"source":"../src/index.js","name":"pify","original":{"line":14,"column":18},"generated":{"line":71,"column":16}},{"source":"../src/index.js","name":null,"original":{"line":14,"column":22},"generated":{"line":71,"column":20}},{"source":"../src/index.js","name":"fs","original":{"line":14,"column":23},"generated":{"line":71,"column":21}},{"source":"../src/index.js","name":null,"original":{"line":14,"column":25},"generated":{"line":71,"column":23}},{"source":"../src/index.js","name":"writeFile","original":{"line":14,"column":26},"generated":{"line":71,"column":24}},{"source":"../src/index.js","name":null,"original":{"line":14,"column":22},"generated":{"line":71,"column":33}},{"source":"../src/index.js","name":null,"original":{"line":14,"column":0},"generated":{"line":71,"column":34}},{"source":"../src/index.js","name":null,"original":{"line":16,"column":0},"generated":{"line":72,"column":0}},{"source":"../src/index.js","name":"transport","original":{"line":16,"column":6},"generated":{"line":72,"column":4}},{"source":"../src/index.js","name":null,"original":{"line":16,"column":15},"generated":{"line":72,"column":13}},{"source":"../src/index.js","name":"nodemailer","original":{"line":16,"column":18},"generated":{"line":72,"column":16}},{"source":"../src/index.js","name":null,"original":{"line":16,"column":28},"generated":{"line":72,"column":26}},{"source":"../src/index.js","name":"createTransport","original":{"line":16,"column":29},"generated":{"line":72,"column":27}},{"source":"../src/index.js","name":"nodemailer","original":{"line":16,"column":18},"generated":{"line":72,"column":42}},{"source":"../src/index.js","name":null,"original":{"line":16,"column":45},"generated":{"line":72,"column":43}},{"source":"../src/index.js","name":"streamTransport","original":{"line":17,"column":2},"generated":{"line":73,"column":0}},{"source":"../src/index.js","name":"streamTransport","original":{"line":17,"column":2},"generated":{"line":73,"column":2}},{"source":"../src/index.js","name":null,"original":{"line":17,"column":17},"generated":{"line":73,"column":17}},{"source":"../src/index.js","name":null,"original":{"line":17,"column":19},"generated":{"line":73,"column":19}},{"source":"../src/index.js","name":null,"original":{"line":16,"column":45},"generated":{"line":73,"column":23}},{"source":"../src/index.js","name":"buffer","original":{"line":18,"column":2},"generated":{"line":74,"column":0}},{"source":"../src/index.js","name":"buffer","original":{"line":18,"column":2},"generated":{"line":74,"column":2}},{"source":"../src/index.js","name":null,"original":{"line":18,"column":8},"generated":{"line":74,"column":8}},{"source":"../src/index.js","name":null,"original":{"line":18,"column":10},"generated":{"line":74,"column":10}},{"source":"../src/index.js","name":null,"original":{"line":16,"column":45},"generated":{"line":75,"column":0}},{"source":"../src/index.js","name":"nodemailer","original":{"line":16,"column":18},"generated":{"line":75,"column":1}},{"source":"../src/index.js","name":null,"original":{"line":16,"column":0},"generated":{"line":75,"column":2}},{"source":"../src/index.js","name":null,"original":{"line":21,"column":0},"generated":{"line":76,"column":0}},{"source":"../src/index.js","name":"templateFilePath","original":{"line":21,"column":6},"generated":{"line":76,"column":4}},{"source":"../src/index.js","name":null,"original":{"line":21,"column":22},"generated":{"line":76,"column":20}},{"source":"../src/index.js","name":"path","original":{"line":21,"column":25},"generated":{"line":76,"column":23}},{"source":"../src/index.js","name":null,"original":{"line":21,"column":29},"generated":{"line":76,"column":27}},{"source":"../src/index.js","name":"join","original":{"line":21,"column":30},"generated":{"line":76,"column":28}},{"source":"../src/index.js","name":"path","original":{"line":21,"column":25},"generated":{"line":76,"column":32}},{"source":"../src/index.js","name":"__dirname","original":{"line":21,"column":35},"generated":{"line":76,"column":33}},{"source":"../src/index.js","name":"path","original":{"line":21,"column":25},"generated":{"line":76,"column":42}},{"source":"../src/index.js","name":null,"original":{"line":21,"column":46},"generated":{"line":76,"column":44}},{"source":"../src/index.js","name":"path","original":{"line":21,"column":25},"generated":{"line":76,"column":48}},{"source":"../src/index.js","name":null,"original":{"line":21,"column":52},"generated":{"line":76,"column":50}},{"source":"../src/index.js","name":"path","original":{"line":21,"column":25},"generated":{"line":76,"column":64}},{"source":"../src/index.js","name":null,"original":{"line":21,"column":0},"generated":{"line":76,"column":65}},{"source":"../src/index.js","name":null,"original":{"line":23,"column":0},"generated":{"line":77,"column":0}},{"source":"../src/index.js","name":"renderFilePromise","original":{"line":23,"column":6},"generated":{"line":77,"column":4}},{"source":"../src/index.js","name":null,"original":{"line":23,"column":23},"generated":{"line":77,"column":21}},{"source":"../src/index.js","name":"pify","original":{"line":23,"column":26},"generated":{"line":77,"column":24}},{"source":"../src/index.js","name":null,"original":{"line":23,"column":30},"generated":{"line":77,"column":28}},{"source":"../src/index.js","name":"pug","original":{"line":23,"column":31},"generated":{"line":77,"column":29}},{"source":"../src/index.js","name":null,"original":{"line":23,"column":34},"generated":{"line":77,"column":32}},{"source":"../src/index.js","name":"renderFile","original":{"line":23,"column":35},"generated":{"line":77,"column":33}},{"source":"../src/index.js","name":null,"original":{"line":23,"column":30},"generated":{"line":77,"column":43}},{"source":"../src/index.js","name":null,"original":{"line":23,"column":0},"generated":{"line":77,"column":44}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":0},"generated":{"line":79,"column":0}},{"source":"../src/index.js","name":"previewEmail","original":{"line":25,"column":6},"generated":{"line":79,"column":4}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":18},"generated":{"line":79,"column":16}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":18},"generated":{"line":80,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":80,"column":69}},{"source":"../src/index.js","name":"message","original":{"line":25,"column":28},"generated":{"line":80,"column":86}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":80,"column":93}},{"source":"../src/index.js","name":"options","original":{"line":25,"column":37},"generated":{"line":80,"column":95}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":80,"column":102}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":81,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":82,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":83,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":84,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":85,"column":0}},{"source":"../src/index.js","name":"options","original":{"line":26,"column":2},"generated":{"line":86,"column":0}},{"source":"../src/index.js","name":"options","original":{"line":26,"column":2},"generated":{"line":86,"column":12}},{"source":"../src/index.js","name":null,"original":{"line":26,"column":9},"generated":{"line":86,"column":19}},{"source":"../src/index.js","name":null,"original":{"line":26,"column":9},"generated":{"line":86,"column":22}},{"source":"../src/index.js","name":null,"original":{"line":26,"column":9},"generated":{"line":86,"column":35}},{"source":"../src/index.js","name":null,"original":{"line":26,"column":9},"generated":{"line":86,"column":36}},{"source":"../src/index.js","name":"dir","original":{"line":27,"column":4},"generated":{"line":87,"column":0}},{"source":"../src/index.js","name":"dir","original":{"line":27,"column":4},"generated":{"line":87,"column":14}},{"source":"../src/index.js","name":null,"original":{"line":27,"column":7},"generated":{"line":87,"column":17}},{"source":"../src/index.js","name":"os","original":{"line":27,"column":9},"generated":{"line":87,"column":19}},{"source":"../src/index.js","name":null,"original":{"line":27,"column":11},"generated":{"line":87,"column":21}},{"source":"../src/index.js","name":"tmpdir","original":{"line":27,"column":12},"generated":{"line":87,"column":22}},{"source":"../src/index.js","name":"os","original":{"line":27,"column":9},"generated":{"line":87,"column":28}},{"source":"../src/index.js","name":null,"original":{"line":26,"column":9},"generated":{"line":87,"column":30}},{"source":"../src/index.js","name":"id","original":{"line":28,"column":4},"generated":{"line":88,"column":0}},{"source":"../src/index.js","name":"id","original":{"line":28,"column":4},"generated":{"line":88,"column":14}},{"source":"../src/index.js","name":null,"original":{"line":28,"column":6},"generated":{"line":88,"column":16}},{"source":"../src/index.js","name":"uuid","original":{"line":28,"column":8},"generated":{"line":88,"column":18}},{"source":"../src/index.js","name":null,"original":{"line":28,"column":12},"generated":{"line":88,"column":22}},{"source":"../src/index.js","name":"v4","original":{"line":28,"column":13},"generated":{"line":88,"column":23}},{"source":"../src/index.js","name":"uuid","original":{"line":28,"column":8},"generated":{"line":88,"column":25}},{"source":"../src/index.js","name":null,"original":{"line":26,"column":9},"generated":{"line":88,"column":27}},{"source":"../src/index.js","name":"open","original":{"line":29,"column":4},"generated":{"line":89,"column":0}},{"source":"../src/index.js","name":"open","original":{"line":29,"column":4},"generated":{"line":89,"column":14}},{"source":"../src/index.js","name":null,"original":{"line":29,"column":8},"generated":{"line":89,"column":18}},{"source":"../src/index.js","name":null,"original":{"line":29,"column":10},"generated":{"line":89,"column":20}},{"source":"../src/index.js","name":"wait","original":{"line":29,"column":12},"generated":{"line":90,"column":0}},{"source":"../src/index.js","name":"wait","original":{"line":29,"column":12},"generated":{"line":90,"column":16}},{"source":"../src/index.js","name":null,"original":{"line":29,"column":16},"generated":{"line":90,"column":20}},{"source":"../src/index.js","name":null,"original":{"line":29,"column":18},"generated":{"line":90,"column":22}},{"source":"../src/index.js","name":null,"original":{"line":29,"column":10},"generated":{"line":91,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":26,"column":9},"generated":{"line":91,"column":15}},{"source":"../src/index.js","name":"template","original":{"line":30,"column":4},"generated":{"line":92,"column":0}},{"source":"../src/index.js","name":"template","original":{"line":30,"column":4},"generated":{"line":92,"column":14}},{"source":"../src/index.js","name":null,"original":{"line":30,"column":12},"generated":{"line":92,"column":22}},{"source":"../src/index.js","name":"templateFilePath","original":{"line":30,"column":14},"generated":{"line":92,"column":24}},{"source":"../src/index.js","name":null,"original":{"line":26,"column":9},"generated":{"line":92,"column":40}},{"source":"../src/index.js","name":"urlTransform","original":{"line":31,"column":4},"generated":{"line":93,"column":0}},{"source":"../src/index.js","name":"urlTransform","original":{"line":31,"column":4},"generated":{"line":93,"column":14}},{"source":"../src/index.js","name":null,"original":{"line":31,"column":16},"generated":{"line":93,"column":26}},{"source":"../src/index.js","name":"path","original":{"line":31,"column":18},"generated":{"line":93,"column":28}},{"source":"../src/index.js","name":"path","original":{"line":31,"column":18},"generated":{"line":93,"column":50}},{"source":"../src/index.js","name":null,"original":{"line":31,"column":22},"generated":{"line":93,"column":54}},{"source":"../src/index.js","name":null,"original":{"line":31,"column":22},"generated":{"line":94,"column":0}},{"source":"../src/index.js","name":"path","original":{"line":31,"column":36},"generated":{"line":94,"column":40}},{"source":"../src/index.js","name":null,"original":{"line":31,"column":22},"generated":{"line":94,"column":44}},{"source":"../src/index.js","name":null,"original":{"line":31,"column":22},"generated":{"line":95,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":26,"column":9},"generated":{"line":96,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":26,"column":9},"generated":{"line":96,"column":13}},{"source":"../src/index.js","name":"options","original":{"line":32,"column":7},"generated":{"line":96,"column":15}},{"source":"../src/index.js","name":null,"original":{"line":26,"column":9},"generated":{"line":96,"column":22}},{"source":"../src/index.js","name":"options","original":{"line":26,"column":2},"generated":{"line":96,"column":23}},{"source":"../src/index.js","name":"debug","original":{"line":34,"column":2},"generated":{"line":97,"column":0}},{"source":"../src/index.js","name":"debug","original":{"line":34,"column":2},"generated":{"line":97,"column":12}},{"source":"../src/index.js","name":null,"original":{"line":34,"column":7},"generated":{"line":97,"column":17}},{"source":"../src/index.js","name":null,"original":{"line":34,"column":8},"generated":{"line":97,"column":18}},{"source":"../src/index.js","name":null,"original":{"line":34,"column":7},"generated":{"line":97,"column":27}},{"source":"../src/index.js","name":"message","original":{"line":34,"column":19},"generated":{"line":97,"column":29}},{"source":"../src/index.js","name":null,"original":{"line":34,"column":7},"generated":{"line":97,"column":36}},{"source":"../src/index.js","name":null,"original":{"line":34,"column":28},"generated":{"line":97,"column":38}},{"source":"../src/index.js","name":null,"original":{"line":34,"column":7},"generated":{"line":97,"column":47}},{"source":"../src/index.js","name":"options","original":{"line":34,"column":39},"generated":{"line":97,"column":49}},{"source":"../src/index.js","name":null,"original":{"line":34,"column":7},"generated":{"line":97,"column":56}},{"source":"../src/index.js","name":"debug","original":{"line":34,"column":2},"generated":{"line":97,"column":57}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":99,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":36,"column":6},"generated":{"line":99,"column":18}},{"source":"../src/index.js","name":"message","original":{"line":36,"column":13},"generated":{"line":99,"column":26}},{"source":"../src/index.js","name":null,"original":{"line":36,"column":6},"generated":{"line":99,"column":33}},{"source":"../src/index.js","name":null,"original":{"line":36,"column":25},"generated":{"line":99,"column":39}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":99,"column":47}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":100,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":101,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":102,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":104,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":37,"column":10},"generated":{"line":104,"column":18}},{"source":"../src/index.js","name":"Error","original":{"line":37,"column":14},"generated":{"line":104,"column":22}},{"source":"../src/index.js","name":null,"original":{"line":37,"column":10},"generated":{"line":104,"column":27}},{"source":"../src/index.js","name":null,"original":{"line":37,"column":20},"generated":{"line":104,"column":28}},{"source":"../src/index.js","name":null,"original":{"line":37,"column":10},"generated":{"line":104,"column":58}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":104,"column":59}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":106,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":107,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":108,"column":0}},{"source":"../src/index.js","name":"transport","original":{"line":39,"column":20},"generated":{"line":108,"column":19}},{"source":"../src/index.js","name":null,"original":{"line":39,"column":29},"generated":{"line":108,"column":28}},{"source":"../src/index.js","name":"sendMail","original":{"line":39,"column":30},"generated":{"line":108,"column":29}},{"source":"../src/index.js","name":"transport","original":{"line":39,"column":20},"generated":{"line":108,"column":37}},{"source":"../src/index.js","name":"message","original":{"line":39,"column":39},"generated":{"line":108,"column":38}},{"source":"../src/index.js","name":"transport","original":{"line":39,"column":20},"generated":{"line":108,"column":45}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":108,"column":46}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":110,"column":0}},{"source":"../src/index.js","name":"res","original":{"line":39,"column":8},"generated":{"line":111,"column":0}},{"source":"../src/index.js","name":"res","original":{"line":39,"column":8},"generated":{"line":111,"column":12}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":111,"column":15}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":112,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":113,"column":0}},{"source":"../src/index.js","name":"simpleParser","original":{"line":41,"column":23},"generated":{"line":113,"column":19}},{"source":"../src/index.js","name":null,"original":{"line":41,"column":35},"generated":{"line":113,"column":31}},{"source":"../src/index.js","name":"res","original":{"line":41,"column":36},"generated":{"line":113,"column":32}},{"source":"../src/index.js","name":null,"original":{"line":41,"column":39},"generated":{"line":113,"column":35}},{"source":"../src/index.js","name":"message","original":{"line":41,"column":40},"generated":{"line":113,"column":36}},{"source":"../src/index.js","name":null,"original":{"line":41,"column":35},"generated":{"line":113,"column":43}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":113,"column":44}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":115,"column":0}},{"source":"../src/index.js","name":"parsed","original":{"line":41,"column":8},"generated":{"line":116,"column":0}},{"source":"../src/index.js","name":"parsed","original":{"line":41,"column":8},"generated":{"line":116,"column":12}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":116,"column":18}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":117,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":118,"column":0}},{"source":"../src/index.js","name":"renderFilePromise","original":{"line":43,"column":21},"generated":{"line":118,"column":19}},{"source":"../src/index.js","name":null,"original":{"line":43,"column":38},"generated":{"line":118,"column":36}},{"source":"../src/index.js","name":"options","original":{"line":44,"column":4},"generated":{"line":118,"column":37}},{"source":"../src/index.js","name":null,"original":{"line":44,"column":11},"generated":{"line":118,"column":44}},{"source":"../src/index.js","name":"template","original":{"line":44,"column":12},"generated":{"line":118,"column":45}},{"source":"../src/index.js","name":null,"original":{"line":43,"column":38},"generated":{"line":118,"column":53}},{"source":"../src/index.js","name":"Object","original":{"line":45,"column":4},"generated":{"line":118,"column":55}},{"source":"../src/index.js","name":null,"original":{"line":45,"column":10},"generated":{"line":118,"column":61}},{"source":"../src/index.js","name":"assign","original":{"line":45,"column":11},"generated":{"line":118,"column":62}},{"source":"../src/index.js","name":"Object","original":{"line":45,"column":4},"generated":{"line":118,"column":68}},{"source":"../src/index.js","name":"parsed","original":{"line":45,"column":18},"generated":{"line":118,"column":69}},{"source":"../src/index.js","name":"Object","original":{"line":45,"column":4},"generated":{"line":118,"column":75}},{"source":"../src/index.js","name":null,"original":{"line":45,"column":26},"generated":{"line":118,"column":77}},{"source":"../src/index.js","name":"cache","original":{"line":46,"column":6},"generated":{"line":119,"column":0}},{"source":"../src/index.js","name":"cache","original":{"line":46,"column":6},"generated":{"line":119,"column":14}},{"source":"../src/index.js","name":null,"original":{"line":46,"column":11},"generated":{"line":119,"column":19}},{"source":"../src/index.js","name":null,"original":{"line":46,"column":13},"generated":{"line":119,"column":21}},{"source":"../src/index.js","name":null,"original":{"line":45,"column":26},"generated":{"line":119,"column":25}},{"source":"../src/index.js","name":"pretty","original":{"line":47,"column":6},"generated":{"line":120,"column":0}},{"source":"../src/index.js","name":"pretty","original":{"line":47,"column":6},"generated":{"line":120,"column":14}},{"source":"../src/index.js","name":null,"original":{"line":47,"column":12},"generated":{"line":120,"column":20}},{"source":"../src/index.js","name":null,"original":{"line":47,"column":14},"generated":{"line":120,"column":22}},{"source":"../src/index.js","name":null,"original":{"line":45,"column":26},"generated":{"line":120,"column":26}},{"source":"../src/index.js","name":"dayjs","original":{"line":48,"column":6},"generated":{"line":121,"column":0}},{"source":"../src/index.js","name":"dayjs","original":{"line":48,"column":6},"generated":{"line":121,"column":14}},{"source":"../src/index.js","name":"dayjs","original":{"line":48,"column":6},"generated":{"line":121,"column":19}},{"source":"../src/index.js","name":"dayjs","original":{"line":48,"column":6},"generated":{"line":121,"column":21}},{"source":"../src/index.js","name":null,"original":{"line":45,"column":26},"generated":{"line":122,"column":0}},{"source":"../src/index.js","name":"Object","original":{"line":45,"column":4},"generated":{"line":122,"column":13}},{"source":"../src/index.js","name":null,"original":{"line":43,"column":38},"generated":{"line":122,"column":14}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":122,"column":15}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":124,"column":0}},{"source":"../src/index.js","name":"html","original":{"line":43,"column":8},"generated":{"line":125,"column":0}},{"source":"../src/index.js","name":"html","original":{"line":43,"column":8},"generated":{"line":125,"column":12}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":125,"column":16}},{"source":"../src/index.js","name":"filePath","original":{"line":52,"column":8},"generated":{"line":126,"column":0}},{"source":"../src/index.js","name":"filePath","original":{"line":52,"column":8},"generated":{"line":126,"column":12}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":126,"column":20}},{"source":"../src/index.js","name":"options","original":{"line":52,"column":22},"generated":{"line":126,"column":33}},{"source":"../src/index.js","name":null,"original":{"line":52,"column":29},"generated":{"line":126,"column":40}},{"source":"../src/index.js","name":"dir","original":{"line":52,"column":30},"generated":{"line":126,"column":41}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":126,"column":44}},{"source":"../src/index.js","name":"options","original":{"line":52,"column":37},"generated":{"line":126,"column":58}},{"source":"../src/index.js","name":null,"original":{"line":52,"column":44},"generated":{"line":126,"column":65}},{"source":"../src/index.js","name":"id","original":{"line":52,"column":45},"generated":{"line":126,"column":66}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":126,"column":68}},{"source":"../src/index.js","name":"debug","original":{"line":53,"column":2},"generated":{"line":127,"column":0}},{"source":"../src/index.js","name":"debug","original":{"line":53,"column":2},"generated":{"line":127,"column":12}},{"source":"../src/index.js","name":null,"original":{"line":53,"column":7},"generated":{"line":127,"column":17}},{"source":"../src/index.js","name":null,"original":{"line":53,"column":8},"generated":{"line":127,"column":18}},{"source":"../src/index.js","name":null,"original":{"line":53,"column":7},"generated":{"line":127,"column":28}},{"source":"../src/index.js","name":"filePath","original":{"line":53,"column":20},"generated":{"line":127,"column":30}},{"source":"../src/index.js","name":null,"original":{"line":53,"column":7},"generated":{"line":127,"column":38}},{"source":"../src/index.js","name":"debug","original":{"line":53,"column":2},"generated":{"line":127,"column":39}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":128,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":129,"column":0}},{"source":"../src/index.js","name":"writeFile","original":{"line":54,"column":8},"generated":{"line":129,"column":19}},{"source":"../src/index.js","name":null,"original":{"line":54,"column":17},"generated":{"line":129,"column":28}},{"source":"../src/index.js","name":"filePath","original":{"line":54,"column":18},"generated":{"line":129,"column":29}},{"source":"../src/index.js","name":null,"original":{"line":54,"column":17},"generated":{"line":129,"column":37}},{"source":"../src/index.js","name":"html","original":{"line":54,"column":28},"generated":{"line":129,"column":39}},{"source":"../src/index.js","name":null,"original":{"line":54,"column":17},"generated":{"line":129,"column":43}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":129,"column":44}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":131,"column":0}},{"source":"../src/index.js","name":"url","original":{"line":56,"column":8},"generated":{"line":132,"column":0}},{"source":"../src/index.js","name":"url","original":{"line":56,"column":8},"generated":{"line":132,"column":12}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":132,"column":15}},{"source":"../src/index.js","name":"options","original":{"line":56,"column":14},"generated":{"line":132,"column":18}},{"source":"../src/index.js","name":null,"original":{"line":56,"column":21},"generated":{"line":132,"column":25}},{"source":"../src/index.js","name":"urlTransform","original":{"line":56,"column":22},"generated":{"line":132,"column":26}},{"source":"../src/index.js","name":"options","original":{"line":56,"column":14},"generated":{"line":132,"column":38}},{"source":"../src/index.js","name":"filePath","original":{"line":56,"column":35},"generated":{"line":132,"column":39}},{"source":"../src/index.js","name":"options","original":{"line":56,"column":14},"generated":{"line":132,"column":47}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":132,"column":48}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":134,"column":0}},{"source":"../src/index.js","name":"options","original":{"line":57,"column":6},"generated":{"line":134,"column":17}},{"source":"../src/index.js","name":null,"original":{"line":57,"column":13},"generated":{"line":134,"column":24}},{"source":"../src/index.js","name":"open","original":{"line":57,"column":14},"generated":{"line":134,"column":25}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":134,"column":29}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":135,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":136,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":137,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":139,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":140,"column":0}},{"source":"../src/index.js","name":"open","original":{"line":57,"column":26},"generated":{"line":140,"column":19}},{"source":"../src/index.js","name":null,"original":{"line":57,"column":30},"generated":{"line":140,"column":23}},{"source":"../src/index.js","name":"url","original":{"line":57,"column":31},"generated":{"line":140,"column":24}},{"source":"../src/index.js","name":null,"original":{"line":57,"column":30},"generated":{"line":140,"column":27}},{"source":"../src/index.js","name":"options","original":{"line":57,"column":36},"generated":{"line":140,"column":29}},{"source":"../src/index.js","name":null,"original":{"line":57,"column":43},"generated":{"line":140,"column":36}},{"source":"../src/index.js","name":"open","original":{"line":57,"column":44},"generated":{"line":140,"column":37}},{"source":"../src/index.js","name":null,"original":{"line":57,"column":30},"generated":{"line":140,"column":41}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":140,"column":42}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":142,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":143,"column":0}},{"source":"../src/index.js","name":"url","original":{"line":59,"column":9},"generated":{"line":143,"column":45}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":143,"column":48}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":145,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":146,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":147,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":148,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":149,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":150,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":21},"generated":{"line":151,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":18},"generated":{"line":151,"column":3}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":18},"generated":{"line":153,"column":0}},{"source":"../src/index.js","name":"previewEmail","original":{"line":25,"column":6},"generated":{"line":153,"column":18}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":18},"generated":{"line":153,"column":30}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":18},"generated":{"line":154,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":18},"generated":{"line":155,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":18},"generated":{"line":156,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":25,"column":0},"generated":{"line":156,"column":3}},{"source":"../src/index.js","name":"module","original":{"line":62,"column":0},"generated":{"line":158,"column":0}},{"source":"../src/index.js","name":null,"original":{"line":62,"column":6},"generated":{"line":158,"column":6}},{"source":"../src/index.js","name":"exports","original":{"line":62,"column":7},"generated":{"line":158,"column":7}},{"source":"../src/index.js","name":"module","original":{"line":62,"column":0},"generated":{"line":158,"column":14}},{"source":"../src/index.js","name":"previewEmail","original":{"line":62,"column":17},"generated":{"line":158,"column":17}},{"source":"../src/index.js","name":"module","original":{"line":62,"column":0},"generated":{"line":158,"column":29}}],"sources":{"../src/index.js":"const fs = require('fs');\nconst os = require('os');\nconst path = require('path');\n\nconst dayjs = require('dayjs');\nconst debug = require('debug')('preview-email');\nconst nodemailer = require('nodemailer');\nconst open = require('open');\nconst pify = require('pify');\nconst pug = require('pug');\nconst uuid = require('uuid');\nconst { simpleParser } = require('mailparser');\n\nconst writeFile = pify(fs.writeFile);\n\nconst transport = nodemailer.createTransport({\n  streamTransport: true,\n  buffer: true\n});\n\nconst templateFilePath = path.join(__dirname, '..', 'template.pug');\n\nconst renderFilePromise = pify(pug.renderFile);\n\nconst previewEmail = async (message, options) => {\n  options = {\n    dir: os.tmpdir(),\n    id: uuid.v4(),\n    open: { wait: false },\n    template: templateFilePath,\n    urlTransform: path => `file://${path}`,\n    ...options\n  };\n  debug('message', message, 'options', options);\n\n  if (typeof message !== 'object')\n    throw new Error('Message argument is required');\n\n  const res = await transport.sendMail(message);\n\n  const parsed = await simpleParser(res.message);\n\n  const html = await renderFilePromise(\n    options.template,\n    Object.assign(parsed, {\n      cache: true,\n      pretty: true,\n      dayjs\n    })\n  );\n\n  const filePath = `${options.dir}/${options.id}.html`;\n  debug('filePath', filePath);\n  await writeFile(filePath, html);\n\n  const url = options.urlTransform(filePath);\n  if (options.open) await open(url, options.open);\n\n  return url;\n};\n\nmodule.exports = previewEmail;\n"},"lineCount":null}},"error":null,"hash":"b49031bcca840f25bf43450aa66fb6af","cacheData":{"env":{}}}